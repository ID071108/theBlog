<!--
 * @Description  : HTTP1.0、HTTP1.1 和 HTTP2.0 的区别
 * @Author       : YH000052
 * @LastEditors: Please set LastEditors
 * @Date         : 2020-06-23 20:54:48
 * @LastEditTime: 2022-03-10 18:02:26
 * @FilePath     : \notes\notes\http-https-http2.md
-->

# HTTP1.0、HTTP1.1 和 HTTP2.0 的区别

## intro

1. HTTP 是一种能够获取如 HTML 这样的网络资源的 protocol(通讯协议)
2. 它是在 Web 上进行数据交换的基础，是一种 client-server 协议，也就是说，请求通常是由像浏览器这样的接受方发起的。一个完整的 Web 文档通常是由不同的子文档拼接而成的，像是文本、布局描述、图片、视频、脚本等等。

[图示]('../assets/images/http/Fetching_a_page.png')

### http 的基本性质

## HTTP1.0

## HTTP1.1

## HTTPS

## HTTP2.0

### 特点

- 通过以下举措，减少 网络延迟，提高浏览器的页面加载速度

  1. 对 HTTP 头字段进行数据压缩(即 HPACK 算法);
  2. HTTP/2 服务端推送(Server Push);
  3. 请求管线化;
  4. 修复 HTTP/1.0 版本以来未修复的 队头阻塞 问题;
  5. 对数据传输采用多路复用，让多个请求合并在同一 TCP 连接内;

- 新特性

  1. 桢、消息、流和 TCP
     将每个 TCP 连接分成流的形式, 再将每个流分成多个消息, 每个消息再分成桢的形式进行传输
  2. HPACK 算法
     由客户端和服务端共同维护一份动态字典, 字典中收录多个一一对应的哈希码
  3. 允许服务端进行推送 , 无需浏览器在解析页面时针对页面中的资源进行请求, 而由服务端主动推送客户端需要的资源

## http2.0

HTTP/2 是 HTTP 协议自 1999 年 HTTP 1.1 发布后的首个更新，主要基于 SPDY 协议

### 二进制分桢
#### 桢 
    HTTP/2 数据通信的最小单位消息 
#### 流 
    存在于连接中的一个虚拟通道。流可以承载双向消息，每个流都有一个唯一的整数ID
### 与http1区别
    HTTP/2 采用二进制格式传输数据，而非 HTTP 1.x 的文本格式，二进制协议解析起来更高效 
    HTTP/1 的请求和响应报文，都是由起始行，首部和实体正文（可选）组成，各部分之间以文本换行符分隔。HTTP/2 将请求和响应数据分割为更小的帧，并且它们采用二进制编码
    HTTP/2 中，同域名下所有通信都在单个连接上完成，该连接可以承载任意数量的双向数据流。每个数据流都以消息的形式发送，而消息又由一个或多个帧组成。多个帧之间可以乱序发送，根据帧首部的流标识可以重新组装。

### 多路复用
多路复用，代替原来的序列和阻塞机制。所有就是请求的都是通过一个 TCP连接并发完成。 
HTTP 1.x 中，如果想并发多个请求，必须使用多个 TCP 链接，且浏览器为了控制资源，还会对单个域名有 6-8个的TCP链接请求限制
#### 与http1区别
在 HTTP/2 中，有了二进制分帧之后，HTTP /2 不再依赖 TCP 链接去实现多流并行了，在 HTTP/2中：
- 同域名下所有通信都在单个连接上完成
- 单个连接可以承载任意数量的双向数据流
- 数据流以消息的形式发送，而消息又由一个或多个帧组成，多个帧之间可以乱序发送，因为根据帧首部的流标识可以重新组装