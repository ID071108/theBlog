<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Rollover</title>
    <style>
      img {
        width: 100px;
        height: 100px;
      }
    </style>
  </head>
  <body>
    <img
      src="../../assets/images/mvx/MVC-MVC.jpg"
      alt="mvc"
      data-rollover="../../assets/images/mvx/mvvm.png"
    />

    <img
      src="../../assets/images/mvx/MVC-MVC.jpg"
      alt="mvc"
      data-rollover="../../assets/images/mvx/mvvm.png"
    />

    <img
      src="../../assets/images/mvx/MVC-MVC.jpg"
      alt="mvc"
      data-rollover="../../assets/images/mvx/mvvm.png"
    />

    <script>
      console.log(document.images)
      /**
       * Rollover.js: 优雅的图片翻转实现方式
       *
       * 要创建图片翻转效果, 将此模块引入到HTML文件中
       * 然后在任意<img>元素上使用data-rollover属性来指定翻转图片的url即可
       * 如下所示:
       *    <img src='img.png' data-rollover='rollover_img.png'>
       *
       *  要注意的是，此模块依赖于onload.js
       * */
      // 所有处理逻辑都在一个匿名函数中: 不定义任何符号
      window.onload = function() {
        //  遍历所有的图片, 查找data-rollover属性
        for (var i = 0; i < document.images.length; i++) {
          var img = document.images[i]
          var rollover = img.getAttribute('data-rollover')
          if (!rollover) continue

          // 确保翻转的图片缓存起来
          new Image().src = rollover
          // 定义一个属性来表示默认的图片url
          img.setAttribute('data-rollout', img.src)
          // 注册事件处理函数来创建翻转效果
          img.onmouseover = function() {
            this.src = this.getAttribute('data-rollover')
          }
          img.onmouseout = function() {
            this.src = this.getAttribute('data-rollout')
          }
        }
      }
    </script>
  </body>
</html>
