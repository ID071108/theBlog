<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>vue生命周期学习</title>
    <script src="https://cdn.bootcss.com/vue/2.4.2/vue.js"></script>
  </head>
  <body>
    <div id="app">
      <h1>{{message}}</h1>
      <h1>{{reverseMessage}}</h1>
      <button @click="handleClick">click</button>
    </div>
  </body>
  <script>
    var vm = new Vue({
      el: '#app',
      data: {
        message: 'Vue的生命周期',
      },
      methods: {
        handleClick() {
          console.log('emit click');
          this.message = Math.random().toFixed(10)
        },
      },
      computed: {
        reverseMessage () {
            console.log('computed')
            return this.message.split('').reverse().join('')
        }
      },
      watch: {
        message (newVal) {
            console.log('emit watch', newVal)
        }
      },
      beforeCreate: function() {
        console.group('------beforeCreate创建前状态------');
        console.log('%c%s', 'color:red', 'el     : ' + this.$el); 
        console.log('%c%s', 'color:red', 'data   : ' + this.$data); 
        console.log('%c%s', 'color:red', 'message: ' + this.message);
        console.log('%c%s', 'color:red', 'methods: ' + this.handleClick);
        console.log('%c%s', 'color:red', 'computed: ' + this.reverseMessage);
        console.log('%c%s', 'color:red', 'watch: ' + this.watch);
        var elem = document.getElementById('app')
        console.log(elem)
      },
      created: function() {
        console.group('------created创建完毕状态------');
        console.log('%c%s', 'color:red', 'el     : ' + this.$el); //undefined
        console.log('%c%s', 'color:red', 'data   : ' + this.$data); //已被初始化
        console.log('%c%s', 'color:red', 'message: ' + this.message); //已被初始化
        console.log('%c%s', 'color:red', 'methods: ' + this.handleClick);
        console.log('%c%s', 'color:red', 'computed: ' + this.reverseMessage);
        console.log('%c%s', 'color:red', 'watch: ' + this.watch);
        var elem = document.getElementById('app')
        console.log(elem)
      },
      beforeMount: function() {
        console.group('------beforeMount挂载前状态------');
        console.log('%c%s', 'color:red', 'el     : ' + this.$el); //已被初始化
        console.log(this.$el);
        console.log('%c%s', 'color:red', 'data   : ' + this.$data); //已被初始化
        console.log('%c%s', 'color:red', 'message: ' + this.message); //已被初始化
        console.log('%c%s', 'color:red', 'methods: ' + this.handleClick);
        console.log('%c%s', 'color:red', 'computed: ' + this.reverseMessage);
        console.log('%c%s', 'color:red', 'watch: ' + this.watch);
        var elem = document.getElementById('app')
        console.log(elem)
      },
      mounted: function() {
        console.group('------mounted 挂载结束状态------');
        console.log('%c%s', 'color:red', 'el     : ' + this.$el); //已被初始化
        console.log(this.$el);
        console.log('%c%s', 'color:red', 'data   : ' + this.$data); //已被初始化
        console.log('%c%s', 'color:red', 'message: ' + this.message); //已被初始化
        console.log('%c%s', 'color:red', 'methods: ' + this.handleClick);
        console.log('%c%s', 'color:red', 'computed: ' + this.reverseMessage);
        console.log('%c%s', 'color:red', 'watch: ' + this.watch);
        var elem = document.getElementById('app')
        console.log(elem)
      },
      beforeUpdate: function() {
        console.group('beforeUpdate 更新前状态===============》');
        console.log('%c%s', 'color:red', 'el     : ' + this.$el);
        console.log(this.$el);
        console.log('%c%s', 'color:red', 'data   : ' + this.$data);
        console.log('%c%s', 'color:red', 'message: ' + this.message);
        console.log('%c%s', 'color:red', 'methods: ' + this.handleClick);
        console.log('%c%s', 'color:red', 'computed: ' + this.reverseMessage);
        console.log('%c%s', 'color:red', 'watch: ' + this.watch);
      },
      updated: function() {
        console.group('updated 更新完成状态===============》');
        console.log('%c%s', 'color:red', 'el     : ' + this.$el);
        console.log(this.$el);
        console.log('%c%s', 'color:red', 'data   : ' + this.$data);
        console.log('%c%s', 'color:red', 'message: ' + this.message);
        console.log('%c%s', 'color:red', 'methods: ' + this.handleClick);
        console.log('%c%s', 'color:red', 'computed: ' + this.reverseMessage);
        console.log('%c%s', 'color:red', 'watch: ' + this.watch);
      },
      beforeDestroy: function() {
        console.group('beforeDestroy 销毁前状态===============》');
        console.log('%c%s', 'color:red', 'el     : ' + this.$el);
        console.log(this.$el);
        console.log('%c%s', 'color:red', 'data   : ' + this.$data);
        console.log('%c%s', 'color:red', 'message: ' + this.message);
        console.log('%c%s', 'color:red', 'methods: ' + this.handleClick);
        console.log('%c%s', 'color:red', 'computed: ' + this.reverseMessage);
        console.log('%c%s', 'color:red', 'watch: ' + this.watch);
      },
      destroyed: function() {
        console.group('destroyed 销毁完成状态===============》');
        console.log('%c%s', 'color:red', 'el     : ' + this.$el);
        console.log(this.$el);
        console.log('%c%s', 'color:red', 'data   : ' + this.$data);
        console.log('%c%s', 'color:red', 'message: ' + this.message);
        console.log('%c%s', 'color:red', 'methods: ' + this.handleClick);
        console.log('%c%s', 'color:red', 'computed: ' + this.reverseMessage);
        console.log('%c%s', 'color:red', 'watch: ' + this.watch);
      },
    });
  </script>
</html>
